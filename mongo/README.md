# 前端mongo入学
> `MongoDB` 是一个基于分布式文件存储的数据库。由 `C++` 语言编写。旨在为 `WEB` 应用提供可扩展的高性能数据存储解决方案。

## 1.前言
自从前后端分离后就一直有争辩，前后端分离的界限在哪里，前端仅仅是写页面吗？需要学习服务器数据库等后端的知识吗？

我认为是非常有必要的，假如就笼统以浏览器和服务器区分前后端，如何解释浏览器的 `indexedDB` 的存在。存在就是合理的，了解越多可以走得越远。

公司最近有 `mongo` 聚合的需求，没数据库方面实战的我瞬间有了极大的兴趣，这篇文章是 `mongo` 的笔记，但用层层递进的故事来写这篇文章，即使是前端小白也能理解和入门。

## 2.环境
环境安装与本篇文章的关系不大，但提供几个渠道：
1. 跟着 `mongo` 官方文档来安装，本地启动调试；
2. `mongo` 客户端，[Robo 3T](https://robomongo.org/)很好用哦；
3. `mongo` 官方的[命令行小窗口](https://docs.mongodb.com/manual/tutorial/insert-documents/)（***免安装直接使用，学习推荐！！！***）。

下面故事开始。
## 3.介绍
在城市中有几所学校（`db`），我们来查看下城市中的学校都有哪些
![3-1](./3-1.jpg)

然后需要指定学校，作用是可以操作该学校（`mongo`默认指向`test`）
![3-2](./3-2.jpg)

## 4.添加
学校（默认`test`）新开班级（`classone`），班级有三个学生（`student`）。他们的信息（姓名、性别、笔）如下：
| 姓名 | 性别 | 铅笔数量 |
|:---:|:---:|:---:|
| 小一 | 男生 | 3 |
| 小二 | 女生 | 4 |
| 小三 | 男生 | 5 |

老师要把他们的信息录入教务系统：
```javascript
db.classone.insertOne({ name: "小一", sex: '男生', pencil: 3 })
```
![4-1](./4-1.jpg)

老师觉得一个个添加太烦了，所以一次性添加：
```javascript
db.classone.insertMany([
  { name: "小二", sex: '女生', pencil: 4 },
  { name: "小三", sex: '女生', pencil: 5 },
])
```
![4-2](./4-2.jpg)

## 5.修改
老师把小三的性别记错了，他其实是女装大佬，老师被骗恼羞成怒，于是修正其性别
```javascript
db.classone.updateOne(
  { name: '小三' },
  { $set: { sex: '女装大佬' }}
)
```
![5-1](./5-1.jpg)

## 查找
三个学生都努力学习，经过期末考试完后，小一自信可以拿第一，于是小一去查自己的成绩
```javascript
db.classone.find({name: '小一'})
```

然后再查小二和小三的成绩
```javascript
db.classone.find({$or: [{name: '小二'}, {name: '小三'}]})
```

他突然发现小三是女装大佬的事实

## 删除
小一内心纠结，最后把这事告诉小三。小三觉得无颜面对同学和老师，决定退学。老师把小三的信息从教务系统删除

```javascript
db.classone.deleteOne({name: '小三'})
```

## mapReduce
## 聚合
## 总结
